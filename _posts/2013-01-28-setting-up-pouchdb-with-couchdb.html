--- 
layout: post
title: Setting up PouchDB with CouchDB
tags: 
- couchdb
- pouchdb
- Tutorial
- tutorial
status: publish
type: post
published: true
meta: 
  _edit_last: "27826612"
  _publicize_pending: "1"
  jabber_published: "1359335695"
  email_notification: "1359335695"
---
PouchDB is an awesome little library that lets you replicate your local database to other remote databases like CouchDB. Because of Access-control-allow-origin, setting up a locally hosted project isn't immediately obvious. I'll give a walkthrough on how to setup PouchDB with CouchDB in the simplest terms possible.

First you need to install CouchDB, which is pretty straightforward. Just download the binary for windows <a href="http://couchdb.apache.org/">here</a>,Â or if you're on a mac use this <a href="http://wiki.apache.org/couchdb/Installing_on_OSX">guide</a>. Now run:

<code>sudo -i -u root couchdb -b</code>

Or for windows go to the CouchDB/bin folder and run couchdb.bat

And you should see a welcoming message telling you that it's time to relax (it's not time to relax yet). Once you get CouchDB setup, you'll need a CORS proxy to allow access to your CouchDB database from a different domain. The easiest and simplest one I found is a node package called <a href="https://github.com/gr2m/CORS-Proxy">corsproxy</a>. Simply run:

<code>npm install -g corsproxy</code>

And now you have your corsproxy. Run it by typing <code>corsproxy</code>. Alright, you have all the necessary requirements for setting up  PouchDB and CouchDB replication. Normally in your javascript file you'd replicate like this:

<code>Pouch.replicate('idb://myapp', 'http://localhost:5984/myapp', myCallback)</code>

Where <code>'idb://myapp'</code> is your local database and <code>'http://localhost:5984'</code> is your CouchDB database. However since your app is being hosted on a different port you will get a Access-control-allow-origin error. Change that remote database to now point to the corsproxy you setup which has a default port of 9292:

<code>Pouch.replicate('idb://myapp', 'http://localhost:9292/localhost:5984/myapp', myCallback)</code>

Kazam! There you go, replicating PouchDB to/from a remote CouchDB! Now it's time to relax.
